{"ast":null,"code":"(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory(require(\"react\"), require(\"react-router-dom\"), require(\"prop-types\"), require(\"history\"));else if (typeof define === 'function' && define.amd) define([\"react\", \"react-router-dom\", \"prop-types\", \"history\"], factory);else if (typeof exports === 'object') exports[\"ReactRouterLastLocation\"] = factory(require(\"react\"), require(\"react-router-dom\"), require(\"prop-types\"), require(\"history\"));else root[\"ReactRouterLastLocation\"] = factory(root[\"react\"], root[\"react-router-dom\"], root[\"prop-types\"], root[\"history\"]);\n})(this, function (__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__6__, __WEBPACK_EXTERNAL_MODULE__10__) {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            enumerable: true,\n            get: getter\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // define __esModule on exports\n\n      /******/\n\n\n      __webpack_require__.r = function (exports) {\n        /******/\n        if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/\n          Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n\n\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n\n      /******/\n      // create a fake namespace object\n\n      /******/\n      // mode & 1: value is a module id, require it\n\n      /******/\n      // mode & 2: merge all properties of value into the ns\n\n      /******/\n      // mode & 4: return value when already ns object\n\n      /******/\n      // mode & 8|1: behave like require\n\n      /******/\n\n\n      __webpack_require__.t = function (value, mode) {\n        /******/\n        if (mode & 1) value = __webpack_require__(value);\n        /******/\n\n        if (mode & 8) return value;\n        /******/\n\n        if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n        /******/\n\n        var ns = Object.create(null);\n        /******/\n\n        __webpack_require__.r(ns);\n        /******/\n\n\n        Object.defineProperty(ns, 'default', {\n          enumerable: true,\n          value: value\n        });\n        /******/\n\n        if (mode & 2 && typeof value != 'string') for (var key in value) {\n          __webpack_require__.d(ns, key, function (key) {\n            return value[key];\n          }.bind(null, key));\n        }\n        /******/\n\n        return ns;\n        /******/\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 4);\n      /******/\n    }\n    /************************************************************************/\n\n    /******/\n    ([\n    /* 0 */\n\n    /***/\n    function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE__0__;\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE__1__;\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var _extendStatics = function extendStatics(d, b) {\n          _extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      var __assign = this && this.__assign || function () {\n        __assign = Object.assign || function (t) {\n          for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n\n            for (var p in s) {\n              if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n          }\n\n          return t;\n        };\n\n        return __assign.apply(this, arguments);\n      };\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var React = __webpack_require__(0);\n\n      var PropTypes = __webpack_require__(6);\n\n      var react_router_dom_1 = __webpack_require__(1);\n\n      var LastLocationContext_1 = __webpack_require__(3);\n\n      var prevent_1 = __webpack_require__(7);\n\n      var lastLocation = null;\n\n      var updateLastLocation = function updateLastLocation(_a) {\n        var location = _a.location,\n            nextLocation = _a.nextLocation,\n            watchOnlyPathname = _a.watchOnlyPathname;\n\n        if (location === null) {\n          return;\n        }\n\n        if (nextLocation === location) {\n          return;\n        }\n\n        if (watchOnlyPathname && location.pathname === nextLocation.pathname) {\n          return;\n        }\n\n        if (prevent_1.shouldPrevent(nextLocation) && !prevent_1.hasBeenPrevented(nextLocation)) {\n          prevent_1.prevent(nextLocation);\n          return;\n        }\n\n        lastLocation = __assign({}, location);\n      };\n\n      var LastLocationProvider =\n      /** @class */\n      function (_super) {\n        __extends(LastLocationProvider, _super);\n\n        function LastLocationProvider() {\n          var _this = _super !== null && _super.apply(this, arguments) || this;\n\n          _this.state = {\n            currentLocation: null\n          };\n          return _this;\n        }\n\n        LastLocationProvider.getDerivedStateFromProps = function (props, state) {\n          updateLastLocation({\n            location: state.currentLocation,\n            nextLocation: props.location,\n            watchOnlyPathname: props.watchOnlyPathname\n          });\n          return {\n            currentLocation: props.location\n          };\n        };\n\n        LastLocationProvider.prototype.render = function () {\n          var children = this.props.children;\n          return React.createElement(LastLocationContext_1.default.Provider, {\n            value: lastLocation\n          }, children);\n        };\n\n        LastLocationProvider.propTypes = {\n          watchOnlyPathname: PropTypes.bool,\n          children: PropTypes.node.isRequired\n        };\n        LastLocationProvider.defaultProps = {\n          watchOnlyPathname: false\n        };\n        return LastLocationProvider;\n      }(React.Component);\n\n      exports.getLastLocation = function () {\n        return lastLocation;\n      };\n\n      exports.setLastLocation = function (nextLastLocation) {\n        lastLocation = nextLastLocation;\n      };\n\n      exports.default = react_router_dom_1.withRouter(LastLocationProvider);\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var react_1 = __webpack_require__(0);\n\n      var LastLocationContext = react_1.createContext(null);\n      exports.default = LastLocationContext;\n      /***/\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var withLastLocation_1 = __webpack_require__(5);\n\n      exports.withLastLocation = withLastLocation_1.default;\n\n      var LastLocationProvider_1 = __webpack_require__(2);\n\n      exports.LastLocationProvider = LastLocationProvider_1.default;\n\n      var useLastLocation_1 = __webpack_require__(8);\n\n      exports.useLastLocation = useLastLocation_1.default;\n\n      var RedirectWithoutLastLocation_1 = __webpack_require__(9);\n\n      exports.RedirectWithoutLastLocation = RedirectWithoutLastLocation_1.default;\n      /***/\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __assign = this && this.__assign || function () {\n        __assign = Object.assign || function (t) {\n          for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n\n            for (var p in s) {\n              if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n          }\n\n          return t;\n        };\n\n        return __assign.apply(this, arguments);\n      };\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var React = __webpack_require__(0);\n\n      var react_router_dom_1 = __webpack_require__(1);\n\n      var LastLocationProvider_1 = __webpack_require__(2);\n\n      function getDisplayName(WrappedComponent) {\n        return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n      }\n\n      var withLastLocation = function withLastLocation(WrappedComponent) {\n        var WithLastLocation = function WithLastLocation(props) {\n          return React.createElement(WrappedComponent, __assign({\n            lastLocation: LastLocationProvider_1.getLastLocation()\n          }, props));\n        };\n\n        WithLastLocation.displayName = \"WithLastLocation(\" + getDisplayName(WrappedComponent) + \")\";\n        return react_router_dom_1.withRouter(WithLastLocation);\n      };\n\n      exports.default = withLastLocation;\n      /***/\n    },\n    /* 6 */\n\n    /***/\n    function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE__6__;\n      /***/\n    },\n    /* 7 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __rest = this && this.__rest || function (s, e) {\n        var t = {};\n\n        for (var p in s) {\n          if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n        }\n\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n        }\n        return t;\n      };\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      /**\n       * I could only check `key` here but according to:\n       * @see https://reacttraining.com/react-router/web/api/location\n       * `key` property is not available when HashHistory is used.\n       */\n\n      var props = ['key', 'pathname', 'search', 'hash'];\n\n      var isEqual = function isEqual(a, b) {\n        return props.every(function (prop) {\n          return a[prop] === b[prop];\n        });\n      };\n\n      var prevented = [];\n\n      exports.prevent = function (location) {\n        var state = location.state,\n            rest = __rest(location, [\"state\"]);\n\n        prevented.push(rest);\n      };\n\n      exports.hasBeenPrevented = function (location) {\n        return prevented.some(function (preventedLocation) {\n          return isEqual(location, preventedLocation);\n        });\n      };\n\n      exports.shouldPrevent = function (location) {\n        return Boolean(location.state && location.state.preventLastLocation);\n      };\n      /***/\n\n    },\n    /* 8 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var react_1 = __webpack_require__(0);\n\n      var LastLocationContext_1 = __webpack_require__(3);\n\n      function useLastLocation() {\n        return react_1.useContext(LastLocationContext_1.default);\n      }\n\n      exports.default = useLastLocation;\n      /***/\n    },\n    /* 9 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __assign = this && this.__assign || function () {\n        __assign = Object.assign || function (t) {\n          for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n\n            for (var p in s) {\n              if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n          }\n\n          return t;\n        };\n\n        return __assign.apply(this, arguments);\n      };\n\n      var __rest = this && this.__rest || function (s, e) {\n        var t = {};\n\n        for (var p in s) {\n          if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n        }\n\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n        }\n        return t;\n      };\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var React = __webpack_require__(0);\n\n      var react_router_dom_1 = __webpack_require__(1);\n\n      var history_1 = __webpack_require__(10);\n\n      var RedirectWithoutLastLocation = function RedirectWithoutLastLocation(_a) {\n        var to = _a.to,\n            rest = __rest(_a, [\"to\"]);\n\n        var finalTo;\n\n        if (typeof to === 'string') {\n          finalTo = history_1.createLocation(to, {\n            preventLastLocation: true\n          });\n        } else {\n          finalTo = __assign({}, to, {\n            state: __assign({\n              preventLastLocation: true\n            }, to.state)\n          });\n        }\n\n        return React.createElement(react_router_dom_1.Redirect, __assign({}, rest, {\n          to: finalTo\n        }));\n      };\n\n      exports.default = RedirectWithoutLastLocation;\n      /***/\n    },\n    /* 10 */\n\n    /***/\n    function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE__10__;\n      /***/\n    }\n    /******/\n    ])\n  );\n});","map":null,"metadata":{},"sourceType":"script"}