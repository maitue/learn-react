{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\laragon\\\\www\\\\Archive\\\\src\\\\app\\\\router\\\\Routes.js\";\n\n/**\n * High level router.\n *\n * Note: It's recommended to compose related routes in internal router\n * components (e.g: `src/pages/auth/AuthPage`, `src/pages/home/HomePage`).\n */\nimport React from \"react\";\nimport { Redirect, Route, Switch, withRouter } from \"react-router-dom\";\nimport { shallowEqual, useSelector } from \"react-redux\";\nimport { useLastLocation } from \"react-router-last-location\";\nimport HomePage from \"../pages/home/HomePage\";\nimport ErrorsPage from \"../pages/errors/ErrorsPage\";\nimport LogoutPage from \"../pages/auth/Logout\";\nimport { LayoutContextProvider } from \"../../_metronic\";\nimport Layout from \"../../_metronic/layout/Layout\";\nimport * as routerHelpers from \"../router/RouterHelpers\";\nimport AuthPage from \"../pages/auth/AuthPage\";\nimport \"antd/dist/antd.css\";\nimport { Spin } from \"antd\";\n\nvar LoadElm = function LoadElm() {\n  var loading = useSelector(function (state) {\n    return state.header.loading;\n  });\n  return loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: 'app-loading',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"spinner\",\n    viewBox: \"0 0 50 50\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    className: \"path\",\n    cx: \"25\",\n    cy: \"25\",\n    r: \"20\",\n    fill: \"none\",\n    strokeWidth: \"5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 17\n    }\n  }))) : null;\n};\n\nexport var Routes = withRouter(function (_ref) {\n  var history = _ref.history;\n  var lastLocation = useLastLocation();\n  routerHelpers.saveLastLocation(lastLocation);\n\n  var _useSelector = useSelector(function (_ref2) {\n    var auth = _ref2.auth,\n        urls = _ref2.urls,\n        menuConfig = _ref2.builder.menuConfig;\n    var expired = null;\n\n    if (auth.user && auth.user.signInUserSession) {\n      expired = !(parseInt(auth.sessionExpiredAt) >= parseInt(new Date().getTime() / 1000));\n    }\n\n    return {\n      menuConfig: menuConfig,\n      isAuthorized: auth.user != null && !expired,\n      userLastLocation: routerHelpers.getLastLocation()\n    };\n  }, shallowEqual),\n      isAuthorized = _useSelector.isAuthorized,\n      menuConfig = _useSelector.menuConfig,\n      userLastLocation = _useSelector.userLastLocation; //const formanswer = window.location.href.indexOf('formanswer');\n\n\n  return (\n    /*#__PURE__*/\n\n    /* Create `LayoutContext` from current `history` and `menuConfig`. */\n    React.createElement(LayoutContextProvider, {\n      history: history,\n      menuConfig: menuConfig,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(LoadElm, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, !isAuthorized ?\n    /*#__PURE__*/\n\n    /* Render auth page when admin at `/auth` and not authorized. */\n    React.createElement(AuthPage, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }) :\n    /*#__PURE__*/\n\n    /* Otherwise redirect to root page (`/`) */\n    React.createElement(Redirect, {\n      from: \"/auth\",\n      to: userLastLocation,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/error\",\n      component: ErrorsPage,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/logout\",\n      component: LogoutPage,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }), !isAuthorized ?\n    /*#__PURE__*/\n\n    /* Redirect to `/auth` when admin is not authorized */\n    React.createElement(Redirect, {\n      to: \"/auth/login\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }) : /*#__PURE__*/React.createElement(Layout, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(HomePage, {\n      userLastLocation: userLastLocation,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }))))\n  );\n});","map":{"version":3,"names":["React","Redirect","Route","Switch","withRouter","shallowEqual","useSelector","useLastLocation","HomePage","ErrorsPage","LogoutPage","LayoutContextProvider","Layout","routerHelpers","AuthPage","Spin","LoadElm","loading","state","header","Routes","history","lastLocation","saveLastLocation","auth","urls","menuConfig","builder","expired","user","signInUserSession","parseInt","sessionExpiredAt","Date","getTime","isAuthorized","userLastLocation","getLastLocation"],"sources":["C:/laragon/www/Archive/src/app/router/Routes.js"],"sourcesContent":["/**\n * High level router.\n *\n * Note: It's recommended to compose related routes in internal router\n * components (e.g: `src/pages/auth/AuthPage`, `src/pages/home/HomePage`).\n */\n\nimport React from \"react\";\nimport {Redirect, Route, Switch, withRouter} from \"react-router-dom\";\nimport {shallowEqual, useSelector} from \"react-redux\";\nimport {useLastLocation} from \"react-router-last-location\";\nimport HomePage from \"../pages/home/HomePage\";\nimport ErrorsPage from \"../pages/errors/ErrorsPage\";\nimport LogoutPage from \"../pages/auth/Logout\";\nimport {LayoutContextProvider} from \"../../_metronic\";\nimport Layout from \"../../_metronic/layout/Layout\";\nimport * as routerHelpers from \"../router/RouterHelpers\";\nimport AuthPage from \"../pages/auth/AuthPage\";\nimport \"antd/dist/antd.css\";\nimport {Spin} from \"antd\";\n\nconst LoadElm = () => {\n    const loading = useSelector(state => state.header.loading);\n    return loading ? (\n        <div className={'app-loading'}>\n            <svg className=\"spinner\" viewBox=\"0 0 50 50\">\n                <circle className=\"path\" cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" strokeWidth=\"5\"/>\n            </svg>\n        </div>\n    ) : null\n}\n\nexport const Routes = withRouter(({history}) => {\n    const lastLocation = useLastLocation();\n    routerHelpers.saveLastLocation(lastLocation);\n    const {isAuthorized, menuConfig, userLastLocation} = useSelector(({auth, urls, builder: {menuConfig}}) => {\n        let expired = null;\n        if (auth.user && auth.user.signInUserSession) {\n            expired = !(parseInt(auth.sessionExpiredAt) >= parseInt((new Date()).getTime() / 1000));\n        }\n\n        return ({\n            menuConfig,\n            isAuthorized: auth.user != null && !expired,\n            userLastLocation: routerHelpers.getLastLocation(),\n        });\n    }, shallowEqual);\n\n    //const formanswer = window.location.href.indexOf('formanswer');\n\n    return (\n        /* Create `LayoutContext` from current `history` and `menuConfig`. */\n        <LayoutContextProvider history={history} menuConfig={menuConfig}>\n            <LoadElm/>\n            <Switch>\n                {/* //<Route path=\"/formanswer\" component={FormDetail} /> */}\n\n                {!isAuthorized ? (\n                    /* Render auth page when admin at `/auth` and not authorized. */\n                    <AuthPage/>\n                ) : (\n                    /* Otherwise redirect to root page (`/`) */\n                    <Redirect from=\"/auth\" to={userLastLocation}/>\n                )}\n\n                <Route path=\"/error\" component={ErrorsPage}/>\n                <Route path=\"/logout\" component={LogoutPage}/>\n\n                {!isAuthorized ? (\n                    /* Redirect to `/auth` when admin is not authorized */\n                    <Redirect to=\"/auth/login\"/>\n                ) : (\n                    <Layout>\n                        <HomePage userLastLocation={userLastLocation}/>\n                    </Layout>\n                )}\n            </Switch>\n        </LayoutContextProvider>\n    );\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}